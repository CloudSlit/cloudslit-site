<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Abstract # Public Key Infrastructure (PKI) is one of the most widely accepted cryptographic protocols for solving authentication for enabling secure communications on the web. PKI consists of digital certificates managed by a certification authority (CA) to verify the identity of the user, thus providing a secure communication channel. However, the traditional PKI method has problems such as difficulty in mutual trust between multiple certification center nodes, single point of failure, and low efficiency."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Architecture"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://www.flowshield.xyz/flowshield_docs/cloudslit/deca/architecture/"><title>Architecture | FlowShield Documentation</title><link rel=manifest href=/flowshield_docs/manifest.json><link rel=icon href=/flowshield_docs/favicon.ico type=image/x-icon><link rel=stylesheet href=/flowshield_docs/book.min.95d69eb6bad8b9707ff2b5d8d9e31ce70a1b84f2ed7ffaf665ffcf00aa7993bd.css integrity="sha256-ldaetrrYuXB/8rXY2eMc5wobhPLtf/r2Zf/PAKp5k70=" crossorigin=anonymous><script defer src=/flowshield_docs/flexsearch.min.js></script>
<script defer src=/flowshield_docs/en.search.min.6ffd3756236bdf9dcd7e4b4f941d9409993cfc77ab5f22e3017ccc694e33d477.js integrity="sha256-b/03ViNr353NfktPlB2UCZk8/HerXyLjAXzMaU4z1Hc=" crossorigin=anonymous></script>
<link rel=alternate type=application/rss+xml href=https://www.flowshield.xyz/flowshield_docs/cloudslit/deca/architecture/index.xml title="FlowShield Documentation"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/flowshield_docs/><span>FlowShield Documentation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/>Overview</a><ul><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/vocabulary/>Vocabulary</a><ul></ul></li><li><span>FlowShield-Fullnode</span><ul><li><input type=checkbox id=section-9ae1a12ab579f4497325b89cf2255824 class=toggle>
<label for=section-9ae1a12ab579f4497325b89cf2255824 class="flex justify-between"><a role=button>Architecture</a></label><ul><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/architecture/overview/>OverView</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/architecture/network/>NetWork</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/architecture/storage/>Storage</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/architecture/protocol/>Protocol</a></li></ul></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/quick_start/>Quick Start</a><ul></ul></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/tutorials/>Tutorials</a><ul></ul></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/deploy/>Deploy</a><ul></ul></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-fullnode/develop/>Develop</a><ul></ul></li></ul></li><li><span>FlowShield-Provider</span><ul><li><input type=checkbox id=section-4b0ac0cb007a4dfbc5fd4c9102359df3 class=toggle>
<label for=section-4b0ac0cb007a4dfbc5fd4c9102359df3 class="flex justify-between"><a role=button>Architecture</a></label><ul><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-provider/architecture/overview/>OverView</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-provider/architecture/network/>NetWork</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-provider/architecture/storage/>Storage</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-provider/architecture/protocol/>Protocol</a></li></ul></li></ul></li><li><span>FlowShield-Contracts</span><ul><li><input type=checkbox id=section-b4f27d7850fb50fd69beb7a93b5d62a3 class=toggle>
<label for=section-b4f27d7850fb50fd69beb7a93b5d62a3 class="flex justify-between"><a role=button>Architecture</a></label><ul><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-contracts/architecture/overview/>OverView</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-contracts/architecture/storage/>Storage</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-contracts/architecture/protocol/>Protocol</a></li></ul></li></ul></li><li><span>FlowShield-Verifier</span><ul><li><input type=checkbox id=section-a779e32f9c563cf801694ee3fcabec72 class=toggle>
<label for=section-a779e32f9c563cf801694ee3fcabec72 class="flex justify-between"><a role=button>Architecture</a></label><ul><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-verifier/architecture/overview/>OverView</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-verifier/architecture/network/>NetWork</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-verifier/architecture/storage/>Storage</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-verifier/architecture/protocol/>Protocol</a></li></ul></li></ul></li><li><span>DeCA</span><ul><li><input type=checkbox id=section-5e404180f92aa8cee068fb445d7e1670 class=toggle checked>
<label for=section-5e404180f92aa8cee068fb445d7e1670 class="flex justify-between"><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/deca/architecture/ class=active>Architecture</a></label><ul><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/deca/architecture/overview/>OverView</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/deca/architecture/network/>NetWork</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/deca/architecture/storage/>Storage</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/deca/architecture/protocol/>Protocol</a></li></ul></li></ul></li><li><span>FlowShield-Client</span><ul><li><input type=checkbox id=section-ccf88b2aa705ebccf526956dac09297f class=toggle>
<label for=section-ccf88b2aa705ebccf526956dac09297f class="flex justify-between"><a role=button>Architecture</a></label><ul><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-client/architecture/overview/>OverView</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-client/architecture/network/>NetWork</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-client/architecture/storage/>Storage</a></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/cloudslit-client/architecture/protocol/>Protocol</a></li></ul></li></ul></li><li><a href=https://www.flowshield.xyz/flowshield_docs/cloudslit/faqs/>FAQs</a><ul></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/flowshield_docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Architecture</strong>
<label for=toc-control><img src=/flowshield_docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#abstract>Abstract</a></li><li><a href=#framework>Framework</a></li><li><a href=#decentralized-storage>Decentralized storage</a></li><li><a href=#decentralized-computing>Decentralized computing</a></li><li><a href=#decentralized-ocsp>Decentralized OCSP</a></li></ul></li></ul></nav></aside></header><article class=markdown><h3 id=abstract>Abstract
<a class=anchor href=#abstract>#</a></h3><p>Public Key Infrastructure (PKI) is one of the most widely accepted cryptographic protocols for solving authentication for enabling secure communications on the web. PKI consists of digital certificates managed by a certification authority (CA) to verify the identity of the user, thus providing a secure communication channel. However, the traditional PKI method has problems such as difficulty in mutual trust between multiple certification center nodes, single point of failure, and low efficiency. The centralized mode of operation of CAs has led to many targeted attacks, such as man-in-the-middle attacks. In this paper, the goal of DECA is to completely decentralize the CA pool, while building a high-performance DPKI certification system to achieve a DPKI decentralized solution.</p><p>DECA uses the two basic modules of decentralized identity identification (DID) and verifiable statement (identity certificate) to define the format of identity identifiers, describe documents and processes such as generation, presentation, verification and destruction of identity certificates, covering identity and The complete life cycle of credential management, using decentralized trust management technology, provides on-chain storage and off-chain storage. Best practice is to store a small amount of data (e.g. id, state, etc.) on-chain, and a large amount of data (e.g. public key, authentication method, etc.) off-chain (e.g. IPFS), and combine them through the on-chain data transfer. Store hash, and realize decentralized authentication calculation by constructing offline data crdt consistent storage, and constructing component roles such as issuer and verifier.</p><p>This decentralized authentication protocol improves the efficiency of online cross-domain authentication transactions by verifying the hash value of the certificate instead of the signature. By placing the certificate generation process and the storage process of its hash in the registration operation, the verification process of Verifier and CA is reduced, and the efficiency is further improved.</p><p><img src=https://user-images.githubusercontent.com/52234994/202891309-cc28ec99-fb9a-4ea0-826f-732cc4b43955.png alt=image></p><h3 id=framework>Framework
<a class=anchor href=#framework>#</a></h3><p>DECA utilizes decentralized identity identification (DID) and verifiable claim (identity credential), supports key PKI functions, utilizes the immutable feature of offline storage (IPFS), effectively prevents third-party attacks, utilizes IPFS-CRDT synchronization strategy, enhances Concealed sharing, fast synchronization, and the use of blockchain to synchronize a small amount of basic information, greatly reducing the cost of consensus.</p><p><img src=https://user-images.githubusercontent.com/52234994/202891328-cb7a91e7-cdc3-4345-9abb-64c0f7478167.png alt=image></p><p>1.Apply for user identity DID: combine user certificate, verification method and other information according to the user&rsquo;s basic identification.</p><p>2.Store user identity information: Organize user identity-related information into Docs for offline storage to obtain the storage address docAddr, and use CRDT for consistent synchronization.</p><p>3.Registered user identity DID: Store user identity-related information to obtain the storage address docAddr and content hash docHash, and send a registration request like a blockchain.</p><p>4.Resolve user identity DID: The information of user DID is synchronized on the blockchain and the offline storage network, so user DID resolution can be initiated to any DECA. The client initiates a parsing request to any DECA, obtains the relevant information of the identity (including the storage address and content hash), obtains the actual user Doc through the storage address, and performs hash verification. If it passes, it proves that the Doc is credible .</p><h3 id=decentralized-storage>Decentralized storage
<a class=anchor href=#decentralized-storage>#</a></h3><p>Centralized storage data is centralized, and the amount of data involved is larger, making the data more vulnerable to attacks and leaks. The security, privacy and sustainability of centrally stored data all present certain risks.</p><p>Data security includes two meanings: the first layer is &ldquo;guarantee data privacy without leakage&rdquo;, and the second layer is &ldquo;guarantee the integrity of data without loss&rdquo;.</p><p>In the current centralized storage mode, users upload all sensitive data, which not only makes users lose control over their own data, but also transfers the risk of data leakage to the cloud storage operator. If the private information is lost, damaged, leaked, or stolen, it may cause heavy losses to individuals, enterprises and even the entire society.</p><p>Centralized cloud storage operators may stop services for various reasons, but users have no right to control the behavior of service providers and control their own interests. This causes users to tend to store data in larger and more credible service providers, which makes the data centralization of the leading companies higher and higher, which also causes large-scale loss of data once the data is lost. Happening.</p><p>And DECA implements a decentralized storage method based on IPFS and web3.storage, builds a complete and unified data object adaptation layer, and makes better use of data middleware to encapsulate and encrypt data, and the encryption key is set by The user is controlled by the main body, and finally the data is stored in a decentralized storage system to ensure that data privacy is not leaked. Using the characteristics of ipfs, the integrity of the data can be guaranteed, and then the crdt technology is used to achieve eventual consistency. The data synchronized by crdt is not It is certificate metadata, only synchronizes the decentralized storage identifier, and has the characteristics of high performance and high stability.</p><h3 id=decentralized-computing>Decentralized computing
<a class=anchor href=#decentralized-computing>#</a></h3><p>Current certificate systems protect online communications through the secure delivery of public keys, which correspond to identities, which use the corresponding secret private key to decrypt messages sent to them and prove that they sent messages (by signing them with the private key). Additionally users cannot be sure that their communications have not been compromised by fraudulent certificates that allow MITM (man-in-the-middle) attacks, which are difficult to detect.</p><p>DECA&rsquo;s goal is to ensure that no third party can compromise the integrity and security of the entire system, and is fully capable of providing similar or higher security properties through the use of decentralized data storage consensus technology.</p><p>DECA builds on the existence of validators, but their role is limited to ensuring communication security and integrity, by leveraging identifiers in decentralized storage, through a series of algorithms that allow these values to be read globally in a secure way, which This way is less vulnerable to MITM attacks that may occur in PKI. This is achieved by linking the lookup value of a decentralized identifier to the latest and most correct public key for that identifier.</p><p><img src=https://user-images.githubusercontent.com/52234994/202891349-5e924a18-72fe-4cb7-8506-af760c34ab00.png alt=image></p><h3 id=decentralized-ocsp>Decentralized OCSP
<a class=anchor href=#decentralized-ocsp>#</a></h3><p>As an important information of application identity, digital certificate is very important to ensure network communication trust. Therefore, certificate revocation is critical to mitigate vulnerabilities and potential key disclosure. The certificate holder can revoke an untrusted certificate.</p><p>DECA in combination with FEVM, has implemented a decentralized OCSP authentication system. It uses smart contracts to store and verify the status of certificates. The verifier uses certificate identifiers to verify the online status information of certificates through smart contracts, and returns the certificate status information to the verifier. The whole process has no centralized OCSP server. The verifier interacts with the FEVM to achieve decentralized OCSP online certificate authentication.
<img src=https://user-images.githubusercontent.com/52234994/204822459-242acec5-a04c-4d08-8f5b-b94f70b2f84f.png alt=image></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#abstract>Abstract</a></li><li><a href=#framework>Framework</a></li><li><a href=#decentralized-storage>Decentralized storage</a></li><li><a href=#decentralized-computing>Decentralized computing</a></li><li><a href=#decentralized-ocsp>Decentralized OCSP</a></li></ul></li></ul></nav></div></aside></main></body></html>